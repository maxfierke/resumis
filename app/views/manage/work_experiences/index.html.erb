<% page_title "Work Experiences" %>

<div class="flex flex-col">
  <% @work_experiences.each do |work_experience| %>
    <div class="card">
      <header class="card-header">
        <div class="flex justify-between mb-2">
          <h4 class="text-xl">
            <%= link_to edit_manage_work_experience_path(work_experience), class: 'underline' do -%>
              <%= work_experience.organization %>
            <%- end -%>
          </h4>

          <%= work_experience.date_range %>
        </div>
        <small class="text-sm mb-4 block"><%= work_experience.position %></small>
      </header>

      <div class="card-body">
        <%= markdown(work_experience.description) -%>
      </div>

      <footer class="card-actions">
        <div class="left">
          <span class="px-6 py-2 text-gray-600">
            Updated <%= time_ago_in_words(work_experience.updated_at) %> ago
          </span>
        </div>
        <div class="right">
          <%= link_to edit_manage_work_experience_path(work_experience), class: 'action-link' do %>
            <%= icon 'fas', 'pencil-alt inline-block mr-1', 'Edit' %>
          <% end %>
          <%= link_to manage_work_experience_path(work_experience), class: 'danger-link', method: :delete, data: { confirm: 'Are you sure?' } do %>
            <%= icon 'fas', 'times inline-block mr-1', 'Delete' %>
          <% end %>
        </div>
      </footer>
    </div>
  <% end %>
</div>

<% content_for :actionbar_left do %>
  <%= paginate @work_experiences %>
<% end %>

<% content_for :actionbar_right do %>
  <%= link_to new_manage_work_experience_path, :class => 'btn btn-primary' do %>
    <%= icon 'fas', 'plus h-5 w-5 inline-block mr-4', 'New Work Experience' %>
  <% end %>
<% end %>
