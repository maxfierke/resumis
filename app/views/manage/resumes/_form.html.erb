<%= form_for [:manage, @resume] do |f| %>
  <div class="form-group">
    <%= f.label :name, :class => 'control-label' %>
    <%= f.text_field :name, :class => 'text_field form-control' %>
  </div>
  <div class="form-group">
    <%= f.label :description, :class => 'control-label' %>
    <%= f.text_field :description, :class => 'text_field form-control' %>
  </div>
  <div class="form-group">
    <%= f.label :background, :class => 'control-label' %>
    <%= f.text_area :background, :class => 'text_area form-control', :rows => '12', :"data-provide" => "markdown", :'data-iconlibrary' => 'fa' %>
  </div>

  <h4>Education Experiences</h4>

  <div class="flex flex-col">
    <%= f.collection_check_boxes(:education_experience_ids,  EducationExperience.order("end_date ASC"), :id, :school_name,
      { :selected => @resume.education_experience_ids }, { :multiple => true } ) do |b| %>
      <label class="w-full rounded bg-white overflow-hidden shadow-lg px-6 py-4 mb-6 flex justify-between">
        <p>
          <%= b.check_box %>
          <%= b.text %><br />
          <small><%= b.object.diploma %></small>
        </p>
        <div>
          <%= b.object.date_range %>
        </div>
      </label>
    <% end %>
  </div>

  <h4>Work Experiences</h4>

  <div class="flex flex-col">
    <%= f.collection_check_boxes(:work_experience_ids,  WorkExperience.order("end_date ASC"), :id, :organization,
      { :selected => @resume.work_experience_ids }, { :multiple => true } ) do |b| %>
      <label class="w-full rounded bg-white overflow-hidden shadow-lg px-6 py-4 mb-6 flex justify-between">
        <p>
          <%= b.check_box %>
          <%= b.text %><br />
          <small><%= b.object.position %></small>
        </p>
        <div>
          <%= b.object.date_range %>
        </div>
      </label>
    <% end %>
  </div>

  <h4>Relevant Projects</h4>

  <div class="flex flex-col">
    <%= f.collection_check_boxes(:project_ids,  Project.order("end_date ASC"), :id, :name,
      { :selected => @resume.project_ids }, { :multiple => true } ) do |b| %>
      <label class="w-full rounded bg-white overflow-hidden shadow-lg px-6 py-4 mb-6 flex justify-between">
        <p>
          <%= b.check_box %>
          <%= b.text %>
          <% if b.object.project_status %>
            <span class="label label-<%= b.object.project_status.slug %>">
              <%= b.object.project_status.name %>
            </span>
          <% end %>
        </p>
        <div>
          <%= b.object.date_range %>
        </div>
      </label>
    <% end %>
  </div>

  <h4>Relevant Skills</h4>

  <div class="flex flex-col">
    <%= f.collection_check_boxes(:skill_ids,  Skill.order("name ASC"), :id, :name,
      { :selected => @resume.skill_ids }, { :multiple => true } ) do |b| %>
      <label class="w-full rounded bg-white overflow-hidden shadow-lg px-6 py-4 mb-6">
        <div class="flex">
          <div class="w-1/12">
            <%= b.check_box %>
          </div>
          <div class="w-11/12">
            <%= b.text %>
            <span class="label label-default">
              <%= b.object.skill_category.name %>
            </span>
          </div>
        </div>
      </label>
    <% end %>
  </div>

  <div class="actionbar actionbar-fixed-bottom">
    <div class="actionbar-left">
      <%= link_to t('.cancel', :default => t("helpers.links.cancel")),
                  manage_resumes_path, :class => 'btn btn-default' %>
    </div>
    <div class="actionbar-right">
      <% unless @resume.new_record? %>
        <small class="text-sm text-gray-600 mr-4">Modified <%= time_ago_in_words(@resume.updated_at) %> ago</small>
      <% end %>
      <%= f.submit nil, :class => 'btn btn-primary' %>
    </div>
  </div>
<% end %>
